<template>
    <div class="div div--u-i5wdbp18h" id="i5wdbp18h_0">
        <div
            class="mosaic-form mosaic-form--u-iz6gy7dw9"
            id="iz6gy7dw9_0"
            data-do-form='{"screen":{"mode":"main","anketa_id":"4416906","initial_state":"{\"anketa_id\":\"4416906\",\"name\":\"\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0437\u0430\u044f\u0432\u043a\u0443 \u0438 \u043c\u044b <span style=\\\"font-weight:bolder\\\">\u0441\u0432\u044f\u0436\u0435\u043c\u0441\u044f \u0441 \u0412\u0430\u043c\u0438<\/span>\",\"submit_name\":\"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c\",\"success_note\":\"\u0421\u043f\u0430\u0441\u0438\u0431\u043e! \u0424\u043e\u0440\u043c\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430\",\"tag_id\":\"iz6gy7dw9\",\"symbol_id\":0,\"change\":false,\"dictionaries\":{\"imo7jfo7k\":{\"dictionary_id\":18235506,\"name\":\"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:\",\"type_id\":15,\"required\":true,\"alias\":\"phone\",\"note\":\"\",\"variants\":[],\"params_value\":\"\",\"validator\":\"__phone__\",\"change\":false},\"i4hp883yj\":{\"dictionary_id\":18235706,\"name\":\"\u0413\u0430\u043b\u043e\u0447\u043a\u0430\",\"type_id\":7,\"required\":false,\"alias\":\"field_63504904\",\"note\":\"\",\"variants\":[],\"params_value\":\"\",\"validator\":\"\",\"change\":false}}}","nativeStyle":true}}'
        >
            <div id="i5jeahyzr_0" class="mosaic-form__form mosaic-form__form--u-i5jeahyzr" data-s3-anketa-id="4416906" v-if="!sent">
                <div id="isqcn3hkq_0" class="div div--u-isqcn3hkq">
                    <div id="iqw374j4v_0" class="mosaic-form__title mosaic-form__title--u-iqw374j4v">
                        <span class="text-block-wrap-div">Оставьте заявку и мы <span style="font-weight: bolder;">свяжемся с Вами</span></span>
                    </div>
                </div>
                <div
                    id="imo7jfo7k_0"
                    data-type-field="phone"
                    data-field-position="0"
                    class="mosaic-form__field mosaic-form__field--u-imo7jfo7k"
                    data-do-input_phone='{"screen":{"type_id":15,"required":true,"dictionary_id":18235506,"validator":"__phone__","alias":"phone"}}'
                >
                    <!--noindex-->
                    <div id="i57kng94u_0" class="mosaic-form__error mosaic-form__error--u-i57kng94u is-removed" data-nosnippet=""><span class="text-block-wrap-div">это поле обязательно для заполнения</span></div>
                    <!--/noindex-->
                    <div id="iqe1wbtz3_0" class="mosaic-form__header mosaic-form__header--u-iqe1wbtz3">
                        <span id="igzhr3tw0_0" class="mosaic-form__name mosaic-form__name--u-igzhr3tw0"><span class="text-block-wrap-div">Телефон:</span></span>
                        <span id="i9u9nwro4_0" class="mosaic-form__required mosaic-form__required--u-i9u9nwro4"><span class="text-block-wrap-div">* </span></span>
                    </div>
                    <input id="iabwke48f_0" v-model="phone" type="tel" placeholder="Телефон *" class="mosaic-form__text mosaic-form__text--u-iabwke48f" />
                    <div id="iesxw4xuq_0" class="mosaic-form__note mosaic-form__note--u-iesxw4xuq is-removed"></div>
                </div>
                <div
                    id="i4hp883yj_0"
                    data-type-field="checkbox"
                    data-field-position="1"
                    class="mosaic-form__field mosaic-form__field--u-i4hp883yj"
                    data-do-checkbox='{"screen":{"type_id":7,"required":false,"dictionary_id":18235706,"alias":"field_63504904"}}'
                >
                    <!--noindex-->
                    <div id="if2d3geom_0" class="mosaic-form__error mosaic-form__error--u-if2d3geom is-removed" data-nosnippet=""><span class="text-block-wrap-div">это поле обязательно для заполнения</span></div>
                    <!--/noindex-->
                    <div id="i2rrf2ltk_0" class="mosaic-form__header mosaic-form__header--u-i2rrf2ltk">
                        <span id="io0v5keeq_0" class="mosaic-form__name mosaic-form__name--u-io0v5keeq"><span class="text-block-wrap-div">Галочка</span></span>
                        <span id="ievu31m96_0" class="mosaic-form__required mosaic-form__required--u-ievu31m96 is-removed"><span class="text-block-wrap-div">* </span></span>
                    </div>
                    <label id="i95197bzj_0" class="mosaic-form__label mosaic-form__label--u-i95197bzj">
                        <input id="irh2lyegi_0" type="checkbox" class="mosaic-form__checkbox mosaic-form__checkbox--u-irh2lyegi" value="Я согласен(а) с обработкой персональных данных" />
                        <span id="ifw59ozjc_0" class="mosaic-form__checkbox-icon mosaic-form__checkbox-icon--u-ifw59ozjc"></span>
                        <span id="im8onm9nx_0" class="mosaic-form__value mosaic-form__value--u-im8onm9nx"><span class="text-block-wrap-div">Я согласен(а) с обработкой персональных данных</span></span>
                    </label>
                    <div id="i8mi7czuy_0" class="mosaic-form__note mosaic-form__note--u-i8mi7czuy is-removed"></div>
                </div>
                <button id="il4lb7lbm_0" class="mosaic-form__button mosaic-form__button--u-il4lb7lbm" @click="send">
                    <span id="ioshtnrbt_0" class="button__text button__text--u-ioshtnrbt"><span class="text-block-wrap-div">ЗАПИСАТЬ</span></span>
                </button>
            </div>
            <!--noindex-->
            <div id="i5jeahyzr_0" class="mosaic-form__form mosaic-form__form--u-i5jeahyzr w-100" v-else>
                <div id="isqcn3hkq_0" class="div div--u-isqcn3hkq w-100">
                    <div id="iqw374j4v_0" class="mosaic-form__title mosaic-form__title--u-iqw374j4v w-100" style="max-width: 100%;">
                        <span class="text-block-wrap-div w-100">Спасибо! <br> <span style="font-weight: bolder;">Наш менеджер свяжется с Вами в рабочее время.</span></span>
                    </div>
                </div>
            </div>
            <!--/noindex-->
        </div>
    </div>
</template>

<script>
export default {
    data() {
        return {
            sent: false,
            phone: '',
        }
    },
    methods: {
        send() {
            if (this.phone === '') {
                alert('Пожалуйста, укажите Ваш номер телефона.');
                return;
            }

            axios.post('/api/callback', {
                phone: this.phone
            }).then(response => {
                this.sent = true;
            });
        },
    },
}
</script>
